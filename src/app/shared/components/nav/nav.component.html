<!-- Header -->
<nav class="navbar navbar-expand-lg bg-light border-bottom">
  <div
    class="container-fluid d-flex justify-content-between align-items-center"
  >
    <a
      class="navbar-brand d-flex align-items-center text-success border fw-bold px-2 rounded-2"
      [routerLink]="['/', code]"
    >
      <i class="bi bi-journal-code me-2"></i>
      <code>CoWrite</code>
    </a>

    <div class="d-flex align-items-center gap-3">
      <!-- Theme Toggle -->
      <button
        class="theme-toggle"
        (click)="toggleTheme()"
        [title]="
          (isDarkTheme$ | async)
            ? 'Switch to Light Theme'
            : 'Switch to Dark Theme'
        "
      >
        <i
          class="bi theme-icon"
          [class.bi-moon-fill]="!(isDarkTheme$ | async)"
          [class.bi-sun-fill]="isDarkTheme$ | async"
          [class.rotate-animation]="isAnimating"
        ></i>
        <span class="visually-hidden">
          {{
            (isDarkTheme$ | async)
              ? "Switch to Light Theme"
              : "Switch to Dark Theme"
          }}
        </span>
      </button>

      <!-- Code Badge -->
      <span
        class="text-truncate bg-success text-white px-2 py-1 d-flex align-items-center gap-1 rounded-3 cursor-pointer"
        [title]="isCopied ? 'Copied!' : 'Click to copy URL'"
        (click)="copyToClipboard()"
        style="cursor: pointer; transition: all 0.3s ease"
      >
        <i
          class="bi"
          [class.bi-door-closed]="!isCopied"
          [class.bi-clipboard-check]="isCopied"
        ></i>
        {{ isCopied ? "Copied!" : "Copy URL" }}
      </span>
    </div>
  </div>
</nav>
